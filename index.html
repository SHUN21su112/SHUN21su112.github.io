<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>赛博木鱼 | 功德+1</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #ffe6e6;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            font-family: "Microsoft Yahei", sans-serif;
        }
        .muyu {
            width: 200px;
            height: 200px;
            background: url('muyu.png') no-repeat center center;
            background-size: contain;
            cursor: pointer;
            transition: transform 0.1s;
        }
        .muyu:active {
            transform: scale(0.95);
        }
        .count {
            font-size: 24px;
            color: #5a4a3d;
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div class="muyu" id="muyu"></div>
    <div class="count" id="count">功德: 0</div>

    <script>      
// 木鱼计数+音效（手机/电脑通用）
let merit = 0;
const meritElement = document.getElementById('count');
const muyu = document.getElementById('muyu');
// 用稳定的CDN音效链接
const audio = new Audio('https://cdn.jsdelivr.net/npm/muyu-audio@1.0.0/muyu.mp3');
audio.load(); // 预加载音效

// 木鱼点击事件（计数+音效+动画）
muyu.addEventListener('click', () => {
  // 功德计数+1
  merit++;
  meritElement.textContent = "功德: "+merit;
  // 木鱼敲击动画
  muyu.style.transform = 'scale(0.95)';
  setTimeout(() => {
    muyu.style.transform = 'scale(1)';
  }, 100);
  // 播放音效（重置播放头，支持连续点击）
  audio.currentTime = 0;
  audio.play().catch(err => {
    // 首次点击无音效时的提示
    alert('点一下屏幕空白处，授权音效后再敲哦～');
  });
});
</body>
</html>
